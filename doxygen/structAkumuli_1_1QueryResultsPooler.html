<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>Akumuli: Akumuli::QueryResultsPooler Struct Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Akumuli
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Friends</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespaceAkumuli.html">Akumuli</a></li><li class="navelem"><a class="el" href="structAkumuli_1_1QueryResultsPooler.html">QueryResultsPooler</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#pub-static-attribs">Static Public Attributes</a> &#124;
<a href="structAkumuli_1_1QueryResultsPooler-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">Akumuli::QueryResultsPooler Struct Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Inheritance diagram for Akumuli::QueryResultsPooler:</div>
<div class="dyncontent">
 <div class="center">
  <img src="structAkumuli_1_1QueryResultsPooler.png" usemap="#Akumuli::QueryResultsPooler_map" alt=""/>
  <map id="Akumuli::QueryResultsPooler_map" name="Akumuli::QueryResultsPooler_map">
<area href="structAkumuli_1_1ReadOperation.html" alt="Akumuli::ReadOperation" shape="rect" coords="0,0,175,24"/>
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a2e1f78c1725b3919ea31101844560516"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a2e1f78c1725b3919ea31101844560516"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>QueryResultsPooler</b> (std::shared_ptr&lt; <a class="el" href="structAkumuli_1_1DbConnection.html">DbConnection</a> &gt; con, int readbufsize)</td></tr>
<tr class="separator:a2e1f78c1725b3919ea31101844560516"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac78505bf3f9acf62436a3e02bedb4643"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac78505bf3f9acf62436a3e02bedb4643"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>throw_if_started</b> () const </td></tr>
<tr class="separator:ac78505bf3f9acf62436a3e02bedb4643"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a47de5e0f8f4660eddb176a490bd1e4ae"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a47de5e0f8f4660eddb176a490bd1e4ae"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>throw_if_not_started</b> () const </td></tr>
<tr class="separator:a47de5e0f8f4660eddb176a490bd1e4ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a132be6f9e47ff1b48e3957ee51996813"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structAkumuli_1_1QueryResultsPooler.html#a132be6f9e47ff1b48e3957ee51996813">start</a> ()</td></tr>
<tr class="separator:a132be6f9e47ff1b48e3957ee51996813"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f6daa32950d01f317aa2ccbe568ea6f"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structAkumuli_1_1QueryResultsPooler.html#a3f6daa32950d01f317aa2ccbe568ea6f">append</a> (const char *data, size_t data_size)</td></tr>
<tr class="separator:a3f6daa32950d01f317aa2ccbe568ea6f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a61d169ac989be728368e766d2ac78d2b"><td class="memItemLeft" align="right" valign="top">virtual aku_Status&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structAkumuli_1_1QueryResultsPooler.html#a61d169ac989be728368e766d2ac78d2b">get_error</a> ()</td></tr>
<tr class="separator:a61d169ac989be728368e766d2ac78d2b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3cd37e1641861bb1f20c88bdc6f4cc6b"><td class="memItemLeft" align="right" valign="top">virtual std::tuple&lt; size_t, bool &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structAkumuli_1_1QueryResultsPooler.html#a3cd37e1641861bb1f20c88bdc6f4cc6b">read_some</a> (char *buf, size_t buf_size)</td></tr>
<tr class="separator:a3cd37e1641861bb1f20c88bdc6f4cc6b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad45229c41b2551a3a0e0f4f5a50fbd89"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structAkumuli_1_1QueryResultsPooler.html#ad45229c41b2551a3a0e0f4f5a50fbd89">close</a> ()</td></tr>
<tr class="separator:ad45229c41b2551a3a0e0f4f5a50fbd89"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:ab0c9a2954249e18cf2e963b6c339cbed"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab0c9a2954249e18cf2e963b6c339cbed"></a>
std::string&#160;</td><td class="memItemRight" valign="bottom"><b>query_text_</b></td></tr>
<tr class="separator:ab0c9a2954249e18cf2e963b6c339cbed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a23fa1532134891f97f37dad7864202e6"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a23fa1532134891f97f37dad7864202e6"></a>
std::shared_ptr&lt; <a class="el" href="structAkumuli_1_1DbConnection.html">DbConnection</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>connection_</b></td></tr>
<tr class="separator:a23fa1532134891f97f37dad7864202e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aff0d1283ad215f1f734ff8032d9bb4b8"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aff0d1283ad215f1f734ff8032d9bb4b8"></a>
std::shared_ptr&lt; <a class="el" href="structAkumuli_1_1DbCursor.html">DbCursor</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>cursor_</b></td></tr>
<tr class="separator:aff0d1283ad215f1f734ff8032d9bb4b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af752c3d40bf8c4b877f28f6bc2328a5b"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af752c3d40bf8c4b877f28f6bc2328a5b"></a>
std::unique_ptr&lt; <a class="el" href="structAkumuli_1_1OutputFormatter.html">OutputFormatter</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>formatter_</b></td></tr>
<tr class="separator:af752c3d40bf8c4b877f28f6bc2328a5b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aace5aad2746bd574d5c6e2c8640caa88"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aace5aad2746bd574d5c6e2c8640caa88"></a>
std::vector&lt; char &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>rdbuf_</b></td></tr>
<tr class="separator:aace5aad2746bd574d5c6e2c8640caa88"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5053fa60c4979e6c7d628b84841f3cf3"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a5053fa60c4979e6c7d628b84841f3cf3"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structAkumuli_1_1QueryResultsPooler.html#a5053fa60c4979e6c7d628b84841f3cf3">rdbuf_pos_</a></td></tr>
<tr class="memdesc:a5053fa60c4979e6c7d628b84841f3cf3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read buffer. <br/></td></tr>
<tr class="separator:a5053fa60c4979e6c7d628b84841f3cf3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad4553525cfc8b8bf083c6d38b35846a5"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad4553525cfc8b8bf083c6d38b35846a5"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structAkumuli_1_1QueryResultsPooler.html#ad4553525cfc8b8bf083c6d38b35846a5">rdbuf_top_</a></td></tr>
<tr class="memdesc:ad4553525cfc8b8bf083c6d38b35846a5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read position in buffer. <br/></td></tr>
<tr class="separator:ad4553525cfc8b8bf083c6d38b35846a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-attribs"></a>
Static Public Attributes</h2></td></tr>
<tr class="memitem:abce43a8a43b5ce993dadf4d473f0f2f6"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="abce43a8a43b5ce993dadf4d473f0f2f6"></a>
static const size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structAkumuli_1_1QueryResultsPooler.html#abce43a8a43b5ce993dadf4d473f0f2f6">DEFAULT_RDBUF_SIZE_</a> = 1000u</td></tr>
<tr class="memdesc:abce43a8a43b5ce993dadf4d473f0f2f6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Last initialized item <em>index</em> in <code>rdbuf_</code> <br/></td></tr>
<tr class="separator:abce43a8a43b5ce993dadf4d473f0f2f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af18b957e8dbc6ac75c8fbcb77e2a4177"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af18b957e8dbc6ac75c8fbcb77e2a4177"></a>
static const size_t&#160;</td><td class="memItemRight" valign="bottom"><b>DEFAULT_ITEM_SIZE_</b> = sizeof(aku_Sample)</td></tr>
<tr class="separator:af18b957e8dbc6ac75c8fbcb77e2a4177"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a3f6daa32950d01f317aa2ccbe568ea6f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Akumuli::QueryResultsPooler::append </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>data_size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Append query data to cursor </p>

<p>Implements <a class="el" href="structAkumuli_1_1ReadOperation.html#a3ec00b8283a60b80ca8c6706f6188154">Akumuli::ReadOperation</a>.</p>

</div>
</div>
<a class="anchor" id="ad45229c41b2551a3a0e0f4f5a50fbd89"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Akumuli::QueryResultsPooler::close </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Close cursor. Should be called after read operation was completed or interrupted. </p>

<p>Implements <a class="el" href="structAkumuli_1_1ReadOperation.html#aa0cb9c36892a9c9a25733f85ab27866a">Akumuli::ReadOperation</a>.</p>

</div>
</div>
<a class="anchor" id="a61d169ac989be728368e766d2ac78d2b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">aku_Status Akumuli::QueryResultsPooler::get_error </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Return error code or AKU_SUCCESS. This error code represent result of the query parsing and initial processing. It can indicate error in the query. Result of the call to this function shouldn't change while reading data. If error occurs during reading <code>read_some</code> method should throw an error. </p>

<p>Implements <a class="el" href="structAkumuli_1_1ReadOperation.html#a2d99820bfcfce12964a8a356de87f28a">Akumuli::ReadOperation</a>.</p>

</div>
</div>
<a class="anchor" id="a3cd37e1641861bb1f20c88bdc6f4cc6b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::tuple&lt; size_t, bool &gt; Akumuli::QueryResultsPooler::read_some </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>buf_size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Read some data from cursor. This method should be called only if <code>get_error</code> have returned AKU_SUCCESS. If some error occured during read operation this method should throw. Method returns tuple (num_elements, is_done). If there is no more results, method returns (any, true) otherwise it returns (any, false). Number of elements can be 0, in this case if second tuple element is false client should call this method again. </p>

<p>Implements <a class="el" href="structAkumuli_1_1ReadOperation.html#adf6198d896b7eb9132cb44ff3aedf1ed">Akumuli::ReadOperation</a>.</p>

</div>
</div>
<a class="anchor" id="a132be6f9e47ff1b48e3957ee51996813"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Akumuli::QueryResultsPooler::start </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Start query execution </p>

<p>Implements <a class="el" href="structAkumuli_1_1ReadOperation.html#ab8567acfb81112f1056cb7a1dd26660f">Akumuli::ReadOperation</a>.</p>

</div>
</div>
<hr/>The documentation for this struct was generated from the following files:<ul>
<li>akumulid/<a class="el" href="query__results__pooler_8h_source.html">query_results_pooler.h</a></li>
<li>akumulid/query_results_pooler.cpp</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Tue Apr 19 2016 18:02:42 for Akumuli by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.6
</small></address>
</body>
</html>
